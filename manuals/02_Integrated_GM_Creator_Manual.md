# ジェムリアTRPGダイスボット 統合マニュアル (GM・管理者編)

**最終更新日**: 2026-02-05
**対象バージョン**: Current

---

## はじめに

このマニュアルでは、GM（ゲームマスター）およびシナリオ・データ作成者向けに、ツールの高度な機能やデータ定義仕様について解説します。
プレイヤー向けの内容に加えて、ルーム管理、スキル作成、バフ/アイテムの定義方法を含みます。

---

## 1. GM権限とルーム管理

GM権限でログインすると、プレイヤー画面にはない管理用コントロールが表示されます。

### ルーム状態の管理 (Room Controls)

#### ラウンド進行の制御

* **次R開始**: タイムライン上部のボタンで、新しいラウンドを開始し、全員のSpeed判定を自動で振ります。
* **ラウンド強制終了**: 現在のラウンドを強制的に終了させ、終了時効果（バフ減少など）を適用します。

#### ルームリセット (Room Reset)

セッションの終了時や、新しい戦闘を開始する際にルームの状態を初期化できます。
**設定タブ** または **管理メニュー** から「ルームリセット」を選択します。

**リセット可能な項目:**

1. **ラウンドリセット**: ラウンド数を1に戻し、現在の手番情報をクリアします。
2. **ステータス全回復**: 全キャラクターのHP・MPを最大値まで回復します。
3. **状態異常解除**: 付与されている全てのバフ・デバフを除去します。
4. **ログ消去**: 画面上のチャットログ・システムログをクリアします。
5. **配置リセット**: 全キャラクターを未配置状態(座標 -1, -1)に戻します。

### キャラクター管理・操作

#### 配置と移動 (探索モード/戦闘モード)

* **戦闘モード**: グリッド(90px)単位でスナップします。配置ボタンを押すと(0,0)または空いている場所に配置されます。
* **探索モード**: ピクセル単位で自由に配置可能です。**「配置」ボタンを押すと、現在表示している画面の中央に出現します。**（迷子防止仕様）

#### その他の操作

* **NPC追加**: GM用プリセットから敵キャラクターなどを素早く読み込めます。
* **代理操作**: GMは、全てのキャラクター（PLキャラ含む）のスキル選択・宣言・移動を代理で行うことができます。
* **強制移動**: マップ上の駒をドラッグ＆ドロップで強制的に移動できます。
* **ステータス編集**: キャラクター詳細画面から、非公開ステータス（hidden_skillsなど）の閲覧・編集が可能です。

---

## 2. データ定義の概要

本ツールはJSONベースのデータ定義により拡張可能です。
以下のカテゴリに関する詳細仕様は、別冊の **`03_Integrated_Data_Definitions.md` (統合データ定義マニュアル)** を参照してください。

* **スキル定義**: 特記処理 (Special Effects) の記述仕様
* **バフ定義**: 静的バフ、動的パターン (`_Atk10`等)、プラグイン定義
* **アイテム定義**: `items_cache.json` の構造
* **輝化・出身定義**: パッシブスキルおよび出身による自動効果
* **外部画像**: Cloudinary連携の設定方法

---

## 3. その他の管理者向け情報

### デバッグ機能

（必要に応じて追記予定）

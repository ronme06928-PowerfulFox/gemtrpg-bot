# 00. プレイヤーガイド (Player Guide)

このマニュアルでは、「ジェムリアTRPGダイスボット」の基本的な遊び方、キャラクターの作成方法、およびバトルの流れについて解説します。

## 1. アプリへのアクセスと入室

### アクセス手順

1. 配布されたURL（またはローカル環境の `http://localhost:5000`）にブラウザでアクセスします。
2. **ログイン画面**が表示されます。
    * **あなたの名前**: セッションで使用する名前（PL名またはGM名）を入力してください。
    * **あなたの属性**: プレイヤー(Player) か GM かを選択します。
    * **「ルームポータルへ進む」**をクリックします。

### ルーム選択

1. **ルーム一覧**が表示されます。
2. **新しいルームを作る場合**: 「新規ルーム作成」欄にルーム名を入力し、「作成」ボタンを押します。
3. **既存のルームに入る場合**: 表示されているルームの「入室」ボタンを押します。
4. 入室すると、メイン画面（バトルフィールド）が表示されます。

---

## 2. 画面の見方とキャラクター準備

### メイン画面の構成

* **左カラム**: キャラクターリスト（味方/敵）、タイムライン
* **中央カラム**: アクションエリア（スキルの計算・宣言）
* **右カラム**: ログ、チャット、ルーム機能（セーブ/リセット）

### キャラクターの追加

1. 左上の「**＋ キャラクター追加**」ボタンを押します。
2. **キャラクターロード**画面が開きます。
    * **JSON読込**: 作成したキャラクターデータ(JSON)を貼り付けて追加します。
    * **DB読込(GMのみ)**: 保存済みのプリセットから読み込みます。
3. 読み込まれたキャラクターは、初期状態では盤面外（未配置）になっている場合があります。GMが座標を設定するか、リストに表示されるのを確認してください。

---

## 3. バトルの流れ (ラウンド進行)

### ラウンド開始 (イニシアチブ決定)

1. ラウンドの最初に、タイムライン上部の「**次R開始**」ボタンを押します。
2. 全キャラクターが「速度(`Speed`)」判定を行い、行動順（タイムライン）が決定されます。

### 手番の実行

タイムラインの一番上にいるキャラクターが手番プレイヤーとなります。

1. **アクションエリア（中央）**を操作します。
2. **使用者**: 自分のキャラクターが自動選択されます（GMは選択可能）。
3. **対象**: ターゲットを選択します。
4. **スキル**: 使用するスキルを選択します。
5. **「威力計算」ボタン**: ダイスを振る前に、判定値や予測威力（2d6+5など）を確認します。
6. **「宣言」ボタン**: 行動を確定し、全体に公開します。チャットログに結果が表示されます。

### マッチ処理 (対決)

攻撃スキルを使用した場合、**マッチ（対決）**が発生します。

1. **攻撃側**: スキルを宣言済み。
2. **防御側**: 「対応側」パネルが有効になります。
    * **スキル**: 回避、防御、または反撃スキルを選択します。
    * **「宣言」**: 防御行動を宣言します。
3. **マッチ開始**: 両者の宣言が揃うと、「**マッチ開始**」ボタンが表示されます（GMまたは攻撃側が押下）。
4. 自動的にダイスロールが行われ、命中・ダメ―ジ計算結果がログに表示されます。HPなどは自動で変動します。

### 広域攻撃 (Wide Match)

「広域」タグのついたスキルを使用する場合、複数の敵を同時に攻撃できます。

1. スキルを選択すると、自動的に「広域攻撃モード」パネルが表示されます。
2. 攻撃側が「宣言」を行います。
3. 防御側全員がそれぞれ防御スキルを宣言します。
4. 全員の宣言が完了したら、「**広域攻撃 実行**」ボタンを押して一括処理します。

---

## 4. キャラクター作成の手順

本ツールでは、キャラクターデータをJSON形式で管理しています。
専用の「キャラクター作成ツール」を使用してJSONを生成します。

### 作成手順

1. `GEMDICEBOT_CharaCreator.html` をブラウザで開きます。
2. **基本設定**: キャラクター名、HP、MPなどの基礎ステータスを入力します。
    * **Speed**: 行動順決定に使用するステータスです。
3. **スキル登録**:
    * スキルの名前、分類（物理/魔法）、属性、基礎威力などを入力します。
    * **特記処理**: 高度な効果（バフ付与など）が必要な場合は、JSON形式で記述します（作成ツールの支援機能を利用してください）。
4. **データ出力**:
    * 入力が完了したら「**JSON出力**」ボタンを押します。
    * 表示されたテキストをコピーし、ダイスボットツールの「キャラクター追加」画面に貼り付けます。

### データの保存

作成したJSONテキストは、メモ帳などに保存しておくことを強く推奨します（ブラウザのキャッシュが消えると復元できないため）。
